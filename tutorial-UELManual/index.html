<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Ultra Edition Legacy 开发文档 | dasasdhba</title><meta name="description" content="编辑手册 介绍 Super Mario Ultra Edition Legacy（210807.1ver 及以后版本，后简称 UEL） 的编辑注意事项以及各种物件的使用方法。 编辑须知 这是在使用 UEL 时特别需要注意的一些地方，请一定要仔细阅读！！！  不要随意删改已有的图层及其名称否则将会导致各种问题的出现！！！ level_main 为关卡主图层，level_back 为第一背"><meta name="keywords" content="教程"><meta name="author" content="dasasdhba"><meta name="copyright" content="dasasdhba"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/ESP.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Ultra Edition Legacy 开发文档"><meta name="twitter:description" content="编辑手册 介绍 Super Mario Ultra Edition Legacy（210807.1ver 及以后版本，后简称 UEL） 的编辑注意事项以及各种物件的使用方法。 编辑须知 这是在使用 UEL 时特别需要注意的一些地方，请一定要仔细阅读！！！  不要随意删改已有的图层及其名称否则将会导致各种问题的出现！！！ level_main 为关卡主图层，level_back 为第一背"><meta name="twitter:image" content="https://s1.ax1x.com/2020/09/25/0C4QoT.png"><meta property="og:type" content="article"><meta property="og:title" content="Ultra Edition Legacy 开发文档"><meta property="og:url" content="http://dasasdhba.github.io/tutorial-UELManual/"><meta property="og:site_name" content="dasasdhba"><meta property="og:description" content="编辑手册 介绍 Super Mario Ultra Edition Legacy（210807.1ver 及以后版本，后简称 UEL） 的编辑注意事项以及各种物件的使用方法。 编辑须知 这是在使用 UEL 时特别需要注意的一些地方，请一定要仔细阅读！！！  不要随意删改已有的图层及其名称否则将会导致各种问题的出现！！！ level_main 为关卡主图层，level_back 为第一背"><meta property="og:image" content="https://s1.ax1x.com/2020/09/25/0C4QoT.png"><meta property="article:published_time" content="2021-08-07T12:00:00.000Z"><meta property="article:modified_time" content="2023-03-30T10:36:53.197Z"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="http://dasasdhba.github.io/tutorial-UELManual/"><link rel="prev" title="【持续更新】Super Mario Ultra Edition Legacy" href="http://dasasdhba.github.io/res-UEL/"><link rel="next" title="【四年之约】MRI2 Chapter5 Rainbow Treasure" href="http://dasasdhba.github.io/game-MRI2C5/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://dasasdhba.github.io/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: false,
  isPhotoFigcaption: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="dasasdhba" type="application/atom+xml">
</head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://s1.ax1x.com/2020/08/08/a547uQ.jpg" onerror="onerror=null;src='undefined'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">16</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">5</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">5</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#编辑手册"><span class="toc-number">1.</span> <span class="toc-text">编辑手册</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#编辑须知"><span class="toc-number">1.1.</span> <span class="toc-text">编辑须知</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#程序设置"><span class="toc-number">1.2.</span> <span class="toc-text">程序设置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#图层介绍"><span class="toc-number">1.3.</span> <span class="toc-text">图层介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#部分物件说明"><span class="toc-number">1.4.</span> <span class="toc-text">部分物件说明</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#系统"><span class="toc-number">1.4.1.</span> <span class="toc-text">系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#敌人"><span class="toc-number">1.4.2.</span> <span class="toc-text">敌人</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#道具"><span class="toc-number">1.4.3.</span> <span class="toc-text">道具</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#水管链接"><span class="toc-number">1.4.4.</span> <span class="toc-text">水管链接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#运动实心"><span class="toc-number">1.4.5.</span> <span class="toc-text">运动实心</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#开发手册"><span class="toc-number">2.</span> <span class="toc-text">开发手册</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#分组介绍"><span class="toc-number">2.1.</span> <span class="toc-text">分组介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#group.instance-介绍"><span class="toc-number">2.1.1.</span> <span class="toc-text">Group.Instance 介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#变量坐标"><span class="toc-number">2.1.1.1.</span> <span class="toc-text">变量坐标</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#功能介绍"><span class="toc-number">2.1.1.2.</span> <span class="toc-text">功能介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#使用-instance_place_fix"><span class="toc-number">2.1.1.3.</span> <span class="toc-text">使用 instance_place_fix</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#group.gravity-介绍"><span class="toc-number">2.1.2.</span> <span class="toc-text">Group.Gravity 介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#功能介绍-1"><span class="toc-number">2.1.2.1.</span> <span class="toc-text">功能介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#foreach-介绍"><span class="toc-number">2.1.2.2.</span> <span class="toc-text">Foreach 介绍</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#group.movable-介绍"><span class="toc-number">2.1.3.</span> <span class="toc-text">Group.Movable 介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#功能介绍-2"><span class="toc-number">2.1.3.1.</span> <span class="toc-text">功能介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#foreach-介绍-1"><span class="toc-number">2.1.3.2.</span> <span class="toc-text">Foreach 介绍</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#group.enemy-介绍"><span class="toc-number">2.1.4.</span> <span class="toc-text">Group.Enemy 介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#group.block-介绍"><span class="toc-number">2.1.5.</span> <span class="toc-text">Group.Block 介绍</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#物理实现方法"><span class="toc-number">2.2.</span> <span class="toc-text">物理实现方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#马里奥"><span class="toc-number">2.2.1.</span> <span class="toc-text">马里奥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#一般敌人"><span class="toc-number">2.2.2.</span> <span class="toc-text">一般敌人</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#运动实心group.movingblock"><span class="toc-number">2.2.3.</span> <span class="toc-text">运动实心（Group.MovingBlock）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bouncing-动画指定碰撞遮罩"><span class="toc-number">2.2.4.</span> <span class="toc-text">Bouncing 动画指定碰撞遮罩</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#group.autoplace"><span class="toc-number">2.2.5.</span> <span class="toc-text">Group.AutoPlace</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#滚屏实现方法"><span class="toc-number">2.3.</span> <span class="toc-text">滚屏实现方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#内置暂停实现方法"><span class="toc-number">2.4.</span> <span class="toc-text">内置暂停实现方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#全局变量实现方法"><span class="toc-number">2.5.</span> <span class="toc-text">全局变量实现方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#致开发者"><span class="toc-number">2.6.</span> <span class="toc-text">致开发者</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#尾声"><span class="toc-number">3.</span> <span class="toc-text">尾声</span></a></li></ol></div></div></div><div id="body-wrap"><div id="web_bg" data-type="photo"></div><div class="post-bg" id="nav" style="background-image: url(https://s1.ax1x.com/2020/09/25/0C4QoT.png)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">dasasdhba</a></span><span class="pull_right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">Ultra Edition Legacy 开发文档</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2021-08-07 20:00:00"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2021-08-07</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2023-03-30 18:36:53"><i class="fa fa-history" aria-hidden="true"></i> 更新于 2023-03-30</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E6%95%99%E7%A8%8B/">教程</a></span></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"><span class="post-meta__separator">|</span><i class="post-meta__icon fa fa-comment-o" aria-hidden="true"></i><span>评论数:</span><a href="/tutorial-UELManual/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/tutorial-UELManual/" itemprop="commentCount"></span></a></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div id="article-container"><h1 id="编辑手册">编辑手册</h1>
<p>介绍 <strong>Super Mario Ultra Edition Legacy</strong>（<strong>210807.1ver</strong> 及以后版本，后简称 <strong>UEL</strong>） 的编辑注意事项以及各种物件的使用方法。</p>
<h2 id="编辑须知">编辑须知</h2>
<p>这是在使用 <strong>UEL</strong> 时特别需要注意的一些地方，请一定要仔细阅读！！！</p>
<ol type="1">
<li><strong>不要随意删改已有的图层及其名称</strong><br>否则将会导致各种问题的出现！！！</li>
<li><strong>level_main</strong> 为关卡主图层，<strong>level_back</strong> 为第一背景层<br><strong>食人花</strong>，<strong>进水管的马里奥</strong>等将会被移至第一背景层<br>因此做背景时请<strong>特别注意遮挡问题</strong>的出现<br>当然，你可以随意添加新的图层，放在第一背景层之后，这是万无一失的做法。</li>
<li>不要删除 <strong>Frame Start Event</strong> 和 <strong>Frame End Event</strong> 对象，否则事件顺序会被永久打乱！</li>
<li>在同一工程中，建议<strong>保持各个物件的名称相同</strong>，以方便未来维护<br>（若有<strong>重大 bug 修复</strong>，你到时候才能用 <strong>Global Object</strong> 进行全局修改）</li>
<li>由于 <strong>UEL</strong> 物理系统的精确性，<strong><del>辣鸡</del> CTF</strong> 不能单独设置对象的碰撞遮罩，请尽量保证动画尺寸的一致性！<br>如不容易解决，可尝试使用 <strong>Bouncing</strong> 动画碰撞遮罩，或 给物件添加 <strong>Group.AutoPlace</strong>。</li>
</ol>
<h2 id="程序设置">程序设置</h2>
<p>建议直接使用 <strong>UEL</strong> 默认程序设置，如果需要转移到其他程序，请注意以下两点：</p>
<ol type="1">
<li><p>事件顺序：</p>
<p><strong>UEL</strong> 修改了程序默认事件顺序，这非常重要。</p>
<p><img src="/" class="lazyload" data-src="https://s1.ax1x.com/2020/09/25/0CoMwt.png"  /></p></li>
<li><p>全局事件： <strong>UEL</strong> 全局事件与内置暂停（现默认关闭）有关。 <img src="/" class="lazyload" data-src="https://files.catbox.moe/91xvsa.png"  /> <em>frame_end</em> loop 非常重要，缺失该 loop 会出现很多问题。</p></li>
</ol>
<h2 id="图层介绍">图层介绍</h2>
<ol type="1">
<li><strong>sys_setting</strong>：用于存放核心事件相关的对象。你可以<strong>启用该图层可视性</strong>并将其作为背景图层使用，但一般不推荐这么做。</li>
<li><strong>level_back</strong>：马里奥进出水管，食人花，升起的道具，部分背景等处于此图层。因此你需要注意在 <strong>level_main</strong> 中不要有物件遮挡了该图层，你可以将滚屏范围置于此图层。</li>
<li><strong>level_main</strong>：关卡运行的核心图层。</li>
<li><strong>level_info</strong>：存放 <strong>HUD</strong> 的图层。</li>
<li><strong>level_circle</strong>：圈圈转场特效的图层。</li>
<li><strong>sys_pause</strong>：内置暂停的预留图层（现默认关闭）。</li>
<li><strong>sys_overlap</strong>：用于物理引擎处理碰撞检测的临时图层。请不要编辑此图层。</li>
</ol>
<h2 id="部分物件说明">部分物件说明</h2>
<h3 id="系统">系统</h3>
<ol type="1">
<li><p>在图层 <strong>level_info</strong> 的 <strong>Info Time</strong> 对象中设置时间：<br><img src="/" class="lazyload" data-src="https://s1.ax1x.com/2020/09/25/0Co3Y8.png"  /></p>
<p>若设置为 <strong>≤0</strong>，则不限时</p></li>
<li><p><strong>通关器</strong> 和 <strong>小通关器</strong> 的相对位置决定其方向，可放心摆放。</p></li>
<li><p><strong>滚屏</strong> 的使用：<br><img src="/" class="lazyload" data-src="https://s1.ax1x.com/2020/09/25/0Co8fS.png"  /><br>当 <strong>马里奥</strong> 与 <strong>Scroll Free/Scroll Set</strong> 碰撞时，将会切换滚屏；<br><strong>Scroll Set</strong> 拥有变量 <strong>ID</strong>，马里奥触发滚屏时，滚屏将会切换到拥有同样 <strong>ID</strong> 的 <strong>Scroll Region</strong> 对象中，<br><strong>该对象的覆盖范围即为滚屏的范围。</strong><br>如果 <strong>Scroll Set</strong> 的 <strong>渐变 Flag</strong> 打开，则会渐变式切换滚屏。<br>因此，当你需要制作不同区域的滚屏时，克隆 <strong>Scroll Set</strong> 和 <strong>Scroll Region</strong> 对象，修改 <strong>ID</strong> 使其对应即可。<br>新版滚屏追加<strong>视野调整</strong>功能，开启之后将会根据目标（默认为马里奥）的运动调整滚屏的视野。</p>
<p>使用样例（<strong>SMMWW 2-2</strong>）：<br><img src="/" class="lazyload" data-src="https://s1.ax1x.com/2020/09/25/0CoJSg.png"  /></p></li>
</ol>
<h3 id="敌人">敌人</h3>
<p>你可以轻松地指定一个敌人的<strong>初始方向</strong>，如图：<br><img src="/" class="lazyload" data-src="https://s1.ax1x.com/2020/09/25/0Cotyj.png"  /><br></p>
<p>部分敌人支持 <strong>32 个方向</strong>，包括：</p>
<ul>
<li>食人花：你应该 <strong>Clone</strong> 食人花并修改其方向，以此获得其他方向的食人花。<br>如有需要，你可以修改 <strong>Clone</strong> 后的食人花的编辑界面贴图，以方便编辑。</li>
<li>火球：不作过多解释，但需要说明的是，火球会<strong>记忆其初始距离岩浆的高度</strong>，<br>如果没有岩浆，那火球也回不来了。</li>
<li>石盾：也不需要太多解释，但需要注意的是，<br>以一个比较奇怪的方向砸到<strong>与其不垂直的实心</strong>上可能导致<strong>爆炸特效</strong>创建失败。</li>
</ul>
<p>此外，<strong>炮台</strong>也支持 <strong>4 个方向</strong>。</p>
<h3 id="道具">道具</h3>
<p>将 <strong>道具</strong> 覆盖于 <strong>问号砖/砖块</strong> 上，以装入此道具：<br><img src="/" class="lazyload" data-src="https://s1.ax1x.com/2020/09/25/0Coamn.png"  /></p>
<p>注意，<strong>道具</strong> 在升起的过程中也位于 <strong>level_back</strong> 图层。</p>
<h3 id="水管链接">水管链接</h3>
<p><strong>红绿箭头对象</strong>只拥有动画效果。<br><img src="/" class="lazyload" data-src="https://s1.ax1x.com/2020/09/25/0CowT0.png"  /></p>
<p>特别地，在一开始将马里奥与<strong>红色箭头</strong>重叠可以使其在一开始的时候出水管。<br>而后，我们需要其他的对象来完成水管的传送，跳帧等事件：</p>
<ol type="1">
<li>传送：<br><strong>红绿 Warp 对象</strong> 根据其摆放的顺序进行瞬移式传送。<br><img src="/" class="lazyload" data-src="https://s1.ax1x.com/2020/09/25/0CoBkV.png"  /></li>
<li>滚屏：<br><strong>紫色 Warp 对象</strong> 将会开启滚屏式传送，通过<strong>黄色箭头</strong>更改滚屏的方向。<br><img src="/" class="lazyload" data-src="https://s1.ax1x.com/2020/09/25/0CoypF.png"  /></li>
</ol>
<h3 id="运动实心">运动实心</h3>
<ol type="1">
<li>修改实心类型：<br>对于平台和实心的转换，修改分组即可：<br><img src="/" class="lazyload" data-src="https://s1.ax1x.com/2020/09/25/0Coc6J.png"  /><br>你还可以修改变量 <strong>实心类型</strong>：<br>0：正常实心<br>1：马里奥实心<br>2：敌人实心</li>
<li><strong>Reverse</strong> 的使用：<br><img src="/" class="lazyload" data-src="https://s1.ax1x.com/2020/09/25/0CoRmR.png"  /><br>运动实心正常情况下为 <strong>Normal</strong> （后简称 <strong>N</strong>）状态，与其边缘接触后将会进入 <strong>Reverse</strong> （后简称 <strong>R</strong>）状态；<br>同样，处于 <strong>R</strong> 状态的运动实心与其接触后会切回 <strong>N</strong> 状态。<br>而后在特定的设置下会进行相应的速度反向。<br>当运动实心同时具有 <strong>x、y速度</strong> 时，<strong>Reverse</strong> 对象的 <strong>单方向碰撞 Flag</strong> 将决定反向一个方向的速度还是两个。</li>
<li>箭头的使用：<br><img src="/" class="lazyload" data-src="https://s1.ax1x.com/2020/09/25/0CoW01.png"  /><br>当运动实心只在单方向拥有速度的时候可以响应运动箭头，其响应的位置在<strong>箭头的中心</strong>。<br>若运动实心处于 <strong>N</strong> 状态，则响应<strong>绿色箭头</strong>；<br>若运动实心处于 <strong>R</strong> 状态，则响应<strong>红色箭头</strong>；<br>以此我们就可以制作复杂路径的往返。</li>
<li>需要注意的是，在某些情况下，<strong>最后一个摆放的运动实心可能会出现问题</strong>（原因不明），此时你最后在屏外摆一个运动实心即可。</li>
</ol>
<h1 id="开发手册">开发手册</h1>
<p>介绍 <strong>UEL</strong> 开发的注意事项和使用参考。</p>
<h2 id="分组介绍">分组介绍</h2>
<p>介绍主要分组的功能。</p>
<h3 id="group.instance-介绍">Group.Instance 介绍</h3>
<p>本引擎物理核心分组，<strong>Group.Gravity</strong> 与 <strong>Group.Movable</strong> 均依赖于此组。</p>
<h4 id="变量坐标">变量坐标</h4>
<p>本条目对 <strong>Group.MovingBlock</strong> 也适用。</p>
<p>由于 <strong>CTF</strong> 的物件坐标只支持整数，属于本组的物件均采用 <strong>Alterable Value X</strong> 与 <strong>Alterable Value Y</strong> （后简称 <strong>变量 X</strong> <strong>变量 Y</strong>）作为<strong>坐标</strong>进行运算，具体流程如下： 1. 帧开始时或创建对象时将物件的坐标 <strong>X Y</strong> 写入 <strong>变量 X Y</strong>； 2. 通过 <strong>变量 X Y</strong> 对物理过程进行相关计算； 3. 将物件的坐标 <strong>X Y</strong> 设置为 <strong>变量 X Y</strong>。</p>
<p>若你开发的物件属于此组，且你需要直接修改物件坐标，请参照上述流程的 <strong>2 3</strong> 完成。<br>你亦可直接修改物件的坐标 <strong>X Y</strong>，并在最后将物件的 <strong>变量 X Y</strong> 修改为坐标 <strong>X Y</strong>。</p>
<h4 id="功能介绍">功能介绍</h4>
<p>以下内容摘编自 <strong>UEL Group.Instance 注释</strong>： 使用变量：1000~1099 1000 = -1: 禁用该对象所有相关事件 = 0: 初始化，完成后赋值为 1 = 2: 恢复，完成后赋值为 1 需要注意的是，在编写物件行为的时候也应注意加上这个条件 <em>（现内置暂停默认禁用，确定不使用内置暂停可以不管）</em></p>
<p>1001 = 1: 下一帧即销毁（模拟绘制功能） 你可以创建一个 Instance，并将其变量 1001 赋值为 1，这样它在下一帧就会被销毁，从而达到“绘制”的目的； 但如果需要用的话，一定要节约！！！ <em>（目前没有物件使用该功能）</em></p>
<p>1002 = -1: 不进行碰撞检测（对 Group.Gravity, Movable 等均适用） = 0: 正常碰撞检测 = 1: 马里奥实心 = 2: 敌人实心 <em>（事实上你可以添加更多的编号，只要 Group.Solid &amp; Platform 的 <strong>变量 900</strong> 与之匹配即可）</em></p>
<p>1003 = 0: 不禁用 = 1: 出屏禁用 = 2: 禁用直到入屏</p>
<p>1004 = 1: 被运动实心挤</p>
<p>1005 = 1: 调整图层至 level_back <em>（物件会在每一帧最开始被调至 <strong>level_main</strong>，每一帧最后被调至 <strong>level_back</strong>）</em></p>
<p>1011 = 1: 对象属于 Group.Gravity 1012 = 1: 对象属于 Group.Movable 1013 = 1: 对象属于 Group.MovingBlock 1014 = 1: 对象属于 Group.Enemy = 2: 对象属于 Group.Shell = 3: 对象属于 Group.HardShell 1019 = 1: 对象属于 Group.Solid = 2: 对象属于 Group.Platform</p>
<p>2000 &amp; 2001 &amp; 2002: 用于内置暂停</p>
<p>Bouncing 动画碰撞箱 物件将会以 <strong>Bouncing</strong> 动画作为碰撞箱，同时其动画必须手动设置。 3000 = 1: 开启 3001: 动画切换间隔 3002: 动画帧数 3003: 当前动画序列 3004: 当前动画帧</p>
<h4 id="使用-instance_place_fix">使用 instance_place_fix</h4>
<p>instance_place_fix：陷入实心补正 -Argument: --1098: 需要检测的实心类型（参见实心说明） --1097 = 1: 无视 Backdrop &amp; Group.Solid --1096 = 1: 无视 Group.Platform --1095: 方向（角度制） --1094: 最大深度 --1093 = 1: 禁用最大深度 -Return: --1099 = 1: 执行成功 = 0: 未执行（超过最大深度）</p>
<p>使用样例： <img src="/" class="lazyload" data-src="https://files.catbox.moe/9m4w1r.png"  /></p>
<h3 id="group.gravity-介绍">Group.Gravity 介绍</h3>
<p>基于 <strong>Group.Instance</strong> 的重力事件组。</p>
<h4 id="功能介绍-1">功能介绍</h4>
<p>以下内容摘编自 <strong>UEL Group.Gravity 注释</strong>： 使用变量 100~199</p>
<p>100 = -1: 禁用 = 0: 在地面上 = 1: 在空中</p>
<p>101：速度 102：重力方向（角度制） 103：空中加速度 104：空中减速度 105：水中加速度 106：水中减速度 107：空中最大速度（=0为无限制，&lt;0为上浮） 108：水中最大速度（=0为无限制，&lt;0为上浮） （以上参数将会默认初始化为<strong>普通敌人</strong>的配置）</p>
<p>109= 0: 应用加速度</p>
<p>180: 坦克滚屏相关</p>
<h4 id="foreach-介绍">Foreach 介绍</h4>
<p>物件着地瞬间将会执行 <strong>Foreach</strong>：<em>gravity_down_finished</em> 物件顶头瞬间将会执行 <strong>Foreach</strong>：<em>gravity_up_finished</em></p>
<p>使用样例： <img src="/" class="lazyload" data-src="https://files.catbox.moe/hon73d.png"  /></p>
<h3 id="group.movable-介绍">Group.Movable 介绍</h3>
<p>基于 <strong>Group.Instance</strong> 的直线运动事件组。</p>
<h4 id="功能介绍-2">功能介绍</h4>
<p>以下内容摘编自 <strong>UEL Group.Movable 注释</strong>： 使用变量 200~299</p>
<p>200=-1: 禁用</p>
<p>201：速度 202：移动方向（角度制）</p>
<p>203：碰撞行为 =-1：什么都不发生 = 0：停止，速度（201）归 0 = 1：反向（方向角+180） = 2：返回 204 = 1，后续处理交由物件</p>
<p>205：斜坡容错</p>
<h4 id="foreach-介绍-1">Foreach 介绍</h4>
<p>物件碰撞瞬间将会执行 <strong>Foreach</strong>：<em>movable_place_finished</em></p>
<h3 id="group.enemy-介绍">Group.Enemy 介绍</h3>
<p>用于处理龟壳/无敌星刷分，以及部分部分攻击判定的事件组。 以下内容摘自 <strong>UEL Group.Enemy 注释</strong>：</p>
<p>400 = 0: 正常 =1: 死亡</p>
<p>401 = -2: 不与龟壳和无敌星进行判定 =-1: 不与龟壳进行判定 = 0: 能被普通龟壳砸死 = 1: 能反死普通龟壳但能被硬壳砸死</p>
<p>402 = 0: 能被岩浆搞死 404 = 0: 出界销毁 405 = 0: 能被挤死 406 = 0: 能被顶死（有重力且在地面上时）</p>
<p>403=1: 位于 level_back 图层的调整</p>
<p>420: 砸砖块记录</p>
<h3 id="group.block-介绍">Group.Block 介绍</h3>
<p>以下内容摘自 <strong>Block</strong> 注释： Flag 9 on: 开启隐藏 Flag 10 on: 添加实心 Flag 11 on: 顶 Flag 12 on: 控制顶的动画 Flag 13 on: 金砖计时 Flag 14 on: 金砖控制 Flag 15 on: 属于 Brick</p>
<p>对于 <strong>Instance 组</strong>对象，添加砸砖事件可参考甜菜。 对于其他对象，在 <strong>overlapping</strong> 到 <strong>Group.Block</strong> 时打开其 Flag 11 并关闭 Flag 9 即可。</p>
<h2 id="物理实现方法">物理实现方法</h2>
<h3 id="马里奥">马里奥</h3>
<p>移动：在操作事件执行完成之后，马里奥会将<strong>速度</strong>和<strong>运动方向</strong>分别写入<strong>变量 201 202</strong>。 跳跃：直接利用<strong>变量 100 101</strong> 进行相关计算。 需要注意的是，马里奥的方向为<strong>变量 AS</strong>，-1 为左，1 为右（相对于重力向下时）。 马里奥的速度是用<strong>变量 AT</strong> 计算的。 与水管直接相关的是<strong>变量 AP</strong>，与受伤/无敌直接相关的是<strong>变量 AH</strong>。 具体内容可在 <em>Mario</em> 对象中寻找相关注释。</p>
<h3 id="一般敌人">一般敌人</h3>
<p>属于 <strong>Group.Instance</strong> 的一般敌人会在 <strong>init</strong> 时对重力进行默认配置，并将<strong>速度</strong>和<strong>运动方向</strong>分别写入<strong>变量 201 202</strong>。 需要注意的是， <strong>Group.Instance</strong> 对象才会调用 <strong>Foreach init</strong> 进行 init 操作，不属于此组的敌人一般属于不需要进行碰撞检测的，这类敌人你可能会在行为中看到 <strong>gravity</strong>、<strong>movable</strong>，这些行为属于没有碰撞检测的物理过程。而对于这类敌人，你可以这样进行 init： <img src="/" class="lazyload" data-src="https://files.catbox.moe/capny3.png"  /> 这些对象为什么不可以加入 <strong>Group.Instance</strong> 并将<strong>变量 1002</strong> 设为 -1？ 因为在目前主流的 CTF2.5+ 版本中，有着分组溢出的 bug，这是规避此 bug 的无奈之举。</p>
<h3 id="运动实心group.movingblock">运动实心（Group.MovingBlock）</h3>
<p>运动实心会在每一帧的<strong>开始</strong>和<strong>结束</strong>记录其当前的坐标，并以这个坐标为依据去修正其他与之接触的对象。 其原生运动系统详见 <strong>Frame End Event</strong> 中的注释。</p>
<h3 id="bouncing-动画指定碰撞遮罩">Bouncing 动画指定碰撞遮罩</h3>
<p>使用 <strong>Bouncing</strong> 动画作为碰撞遮罩以规避物件动画尺寸不规整带来的问题。 目前使用该功能的物件包括：锤子龟系列，刺球。</p>
<h3 id="group.autoplace">Group.AutoPlace</h3>
<p>处理极端情况的极端策略，如果实在没办法再考虑使用。 该分组的对象会在每一帧的最后检测是否与实心重叠，如果重叠，则从上下左右四个方向选取最短的一个方向执行防陷入。</p>
<h2 id="滚屏实现方法">滚屏实现方法</h2>
<p>滚屏核心事件位于对象 <strong>Camera</strong> 中，以下内容摘自其注释： 1.设置滚屏跟随对象 滚屏模式 = 0：初始化并启动模式 1 = 1：将滚屏目标设置为 "Mario" = 其他：你需要手动设置目标 X Y 坐标和滚屏补正速度 （滚屏补正速度用于滚屏渐变的参数，否则可能会出现滚屏渐变追不上滚屏目标的问题）</p>
<p>2.设置晃屏功能 你需要打开 "晃屏" Flag，并设置变量 "晃屏时间" 晃屏时间&gt;0：不允许晃屏超过当前的滚屏边界 晃屏时间&lt;0：允许晃屏超过当前的滚屏边界</p>
<p>3.禁用滚屏系统 你可以打开 "禁用" Flag，也可以直接删除 Camera 的 Behavior 如果只需要禁用封位实心，打开 "禁用封位实心" Flag 即可</p>
<h2 id="内置暂停实现方法">内置暂停实现方法</h2>
<p>该功能现默认关闭，如果不需要可以略过以下内容。</p>
<p>对于 <strong>Group.Instance</strong> 对象，<strong>变量 1000</strong>，直接控制物件是否暂停，包括其动画和 CTF 自带运动。 对于非 <strong>Group.Instance</strong> 对象，<strong>Pause</strong> 对象的 Flag 0（命名为 <em>Pause</em>）直接控制物件是否暂停，但不包括其动画和 CTF 自带运动，对于后者的暂停请参考其他相关物件的 <strong>Pause</strong> 行为。</p>
<p>如果你需要使用内置暂停功能，在开发时必须要注意添加<strong>暂停条件的限制</strong>。</p>
<h2 id="全局变量实现方法">全局变量实现方法</h2>
<p>全局变量实际上是 <strong>Frame Start Event</strong> 和 <strong>Frame End Event</strong> 的变量。 由于 CTF 的 bug，<em>Restart current frame</em> 会重置全局物件的变量，且此动作不会被判定为 <em>Frame End</em>，因此所有变量将会在<strong>帧开始时，帧结束时/Foreach: frame_restart</strong> 时<strong>读取</strong>/<strong>存入</strong>全局变量。 据此原理，<strong>UEL</strong> 理论上可以兼容任意其他工程的全局变量，参考：</p>
<ol type="1">
<li><p>在 <strong>Frame Start Event</strong> 中，激活/禁用相关事件<br><img src="/" class="lazyload" data-src="https://s1.ax1x.com/2020/09/25/0CoKeI.png"  /></p></li>
<li><p>将 <strong>Global Event</strong> 复制至移植目标工程</p></li>
<li><p>修改工程设置，如图：<br><img src="/" class="lazyload" data-src="https://s1.ax1x.com/2020/09/25/0CoMwt.png"  /><br>将 <strong>Event Order</strong> 调整为<strong>"Frame events, Behaviors, Global events"</strong></p></li>
</ol>
<p>你亦可将 <em>Restart current frame</em> 改为 <em>jump to frame frame</em>，如果没有移植至其他工程的需求，就不需要在<strong>帧开始时，帧结束时/Foreach: frame_restart</strong> 时<strong>读取</strong>/<strong>存入</strong>全局变量。</p>
<h2 id="致开发者">致开发者</h2>
<ol type="1">
<li>如果需要使用内置暂停功能，开发过程中请特别注意 <strong>暂停条件</strong> 的限制，其中<br>对于 <strong>Group.Instance</strong> 对象，暂停条件应为 <strong>Var.1000 = -1</strong><br>对于其他对象，暂停条件应为 <strong>Pause 对象的 Flag 0 on</strong>。</li>
<li>我在开发过程中，对于一些重要的东西都写了较为详细的注释，可供参考。<br>而对于一些外源引用的事件（均注明来源）则并没有作太多的处理。</li>
<li>你可能会注意到，有一些物件并不属于 <strong>Group.Instance</strong>，<br>理论上我们把所有物件都加上此组，那么就根本不需要 <strong>Pause</strong> 对象了。<br>你可能也已经发现，部分物件的行为中有 <strong>“低配版”</strong> <strong>Gravity</strong> 和 <strong>Movable</strong>。<br>其原因在于，<strong>CTF</strong> 对于分组的使用<strong>有上限！！！</strong><br>这个上限具体我并不清楚，但这个上限是存在的，<br>如果超过，将会导致 <strong>Out of memory</strong>，<strong>编译直接崩溃！</strong><br><del><strong>别问我怎么知道的，辣鸡 Clickteam</strong></del><br>因此，对于不需要碰撞检测的对象，用<strong>"低配版"</strong>是更好的选择。<br></li>
<li><strong>Group.MovingBlock</strong> 绝对不能同时与 <strong>Group.Instance/Gravity</strong> 等加在同一个对象上，<br>原因可参见 <strong>Group.Solid&amp;Platform</strong> 的注释。<br>如果需要开发其他运动方式的平台（如圆周运动），<br>直接禁用掉原生运动事件（比如将 <strong>Var.300</strong> 设为 233），然后自行在 <strong>Behavior</strong> 中编写即可。<br>这不会影响补正事件，因为补正事件用的是差值法计算。<br></li>
<li>我深知我使用的一些 <strong>Foreach</strong> 事件存在风险，<br>比如我迫不得已修改全局事件顺序来保证 <strong>Frame End Event</strong> 的正常运行（已改为 loop），<br>如果你实在担心，也可以自己改一改。</li>
</ol>
<h1 id="尾声">尾声</h1>
<p>UEL 介绍&amp;下载地址：<a href="https://dasasdhba.github.io/res-UEL" class="uri">https://dasasdhba.github.io/res-UEL</a> 论坛地址：<a href="https://www.marioforever.net/thread-705-1-1.html" target="_blank" rel="noopener" class="uri">https://www.marioforever.net/thread-705-1-1.html</a></p>
<p>欢迎评论~</p>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">dasasdhba</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://dasasdhba.github.io/tutorial-UELManual/">http://dasasdhba.github.io/tutorial-UELManual/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://dasasdhba.github.io" target="_blank">dasasdhba</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%95%99%E7%A8%8B/">教程</a></div><div class="post_share"><div class="social-share" data-image="https://allsignalprocessing.com/wp-content/uploads/2014/06/fast-fourier-transform.png" data-sites="wechat,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/res-UEL/"><img class="prev_cover lazyload" data-src="https://s1.ax1x.com/2020/09/25/0C4QoT.png" onerror="onerror=null;src='http://yanxuan.nosdn.127.net/17d506bee5c563ab6285b5b1c2e95599.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">【持续更新】Super Mario Ultra Edition Legacy</div></div></a></div><div class="next-post pull_right"><a href="/game-MRI2C5/"><img class="next_cover lazyload" data-src="https://ftp.bmp.ovh/imgs/2021/07/3e7411004194a776.png" onerror="onerror=null;src='http://yanxuan.nosdn.127.net/17d506bee5c563ab6285b5b1c2e95599.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">【四年之约】MRI2 Chapter5 Rainbow Treasure</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/tutorial-Godot/" title="Godot 自学指南"><img class="relatedPosts_cover lazyload"data-src="https://i.iinfo.cz/images/454/godot-logo-1.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2022-11-17</div><div class="relatedPosts_title">Godot 自学指南</div></div></a></div><div class="relatedPosts_item"><a href="/tutorial-CTFC1/" title="【Archived】Clickteam Fusion 系列教程 第一章"><img class="relatedPosts_cover lazyload"data-src="http://yanxuan.nosdn.127.net/563687168bb8b0a6d01957db2a0824c1.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-08-05</div><div class="relatedPosts_title">【Archived】Clickteam Fusion 系列教程 第一章</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://unpkg.com/valine/dist/Valine.min.js"></script><script>var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  appId: 'qKzKTqLS4IP0grV2Pq1waGQt-MdYXbMMI',
  appKey: 'sYVhbspdU7W0iDOAMjPrtQ7c',
  placeholder: '写个评论吧~',
  avatar: 'mp',
  meta: guest_info,
  pageSize: '10',
  lang: 'zh-CN',
  recordIP: true,
  serverURLs: '',
  mathjax: false
});</script></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By dasasdhba</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script defer id="ribbon" src="/js/third-party/canvas-ribbon.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script><script src="/js/search/local-search.js"></script></body></html>